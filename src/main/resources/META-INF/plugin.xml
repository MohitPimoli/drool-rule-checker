<idea-plugin>
    <id>com.plugin.drool</id>
    <name>Drools Rule Checker</name>
    <version>1.0.10</version>
    <vendor email="mohitpimoli31@gmail.com" url="https://github.com/MohitPimoli">Mohit Pimoli</vendor>

    <description><![CDATA[
        <h2>ğŸ”¥ Drools Rule Checker - Professional IDE Support for Drools Rules</h2>
        
        <p>Transform your Drools development experience with comprehensive IDE support for <code>.drl</code> files. 
        Get the same level of intelligent assistance you expect from modern IDEs - syntax highlighting, 
        real-time validation, auto-completion, and error detection.</p>

        <h3>âœ¨ Key Features</h3>
        <ul>
            <li><strong>ğŸ¨ Advanced Syntax Highlighting</strong> - Beautiful color coding for keywords, strings, numbers, comments, operators, and punctuation</li>
            <li><strong>ğŸ” Real-time Validation</strong> - Instant error detection as you type, just like in Java or other languages</li>
            <li><strong>ğŸš¨ Comprehensive Error Detection</strong>:
                <ul>
                    <li>Missing brackets, parentheses, and braces</li>
                    <li>Unclosed quotes and invalid escape sequences</li>
                    <li>Missing semicolons in Java code blocks</li>
                    <li>Invalid rule structure (rule â†’ when â†’ then â†’ end)</li>
                    <li>Common typos (wen â†’ when, thn â†’ then)</li>
                    <li>Malformed constraint expressions</li>
                </ul>
            </li>
            <li><strong>ğŸ’¡ Smart Auto-completion</strong> - Context-aware suggestions for keywords, functions, and rule templates</li>
            <li><strong>ğŸ“ Code Folding</strong> - Collapse rule blocks and comments for better navigation</li>
            <li><strong>ğŸ¯ Field Access Validation</strong> - Validates $variable.field patterns</li>
            <li><strong>âš¡ Performance Hints</strong> - Suggests optimizations (e.g., avoid eval() when possible)</li>
            <li><strong>ğŸ¨ Customizable Colors</strong> - Personalize syntax highlighting in IDE settings</li>
        </ul>

        <h3>ğŸš€ Perfect For</h3>
        <ul>
            <li>Business Rules Developers</li>
            <li>Java Developers working with Drools</li>
            <li>Decision Management Teams</li>
            <li>Anyone writing .drl files</li>
        </ul>

        <h3>ğŸ“‹ Supported Drools Features</h3>
        <ul>
            <li>Rule definitions with attributes (salience, no-loop, etc.)</li>
            <li>When-Then-End clause validation</li>
            <li>Java code blocks in 'then' clauses</li>
            <li>Field constraints and expressions</li>
            <li>Function calls and built-in operators</li>
            <li>Comments (single-line and multi-line)</li>
        </ul>

        <h3>ğŸ”§ Installation</h3>
        <ol>
            <li>Go to <code>File â†’ Settings â†’ Plugins</code></li>
            <li>Search for "Drools Rule Checker"</li>
            <li>Click Install and restart IntelliJ IDEA</li>
            <li>Open any <code>.drl</code> file and enjoy enhanced editing!</li>
        </ol>

        <h3>ğŸ’» Example Rule with Validation</h3>
        <pre><code>rule "Customer Discount"
    salience 100
    when
        $customer : Customer(age > 18, status == "ACTIVE")
        $order : Order(total > 1000.00) from $customer.orders
    then
        $order.setDiscount(0.15);
        update($order);
        System.out.println("Discount applied!");
end</code></pre>

        <p>The plugin will validate syntax, highlight errors, and provide intelligent suggestions as you type.</p>

        <h3>ğŸ› Bug Reports & Feature Requests</h3>
        <p>Found an issue or have a suggestion? Please report it on our 
        <a href="https://github.com/MohitPimoli/drool-rule-checker/issues">GitHub Issues</a> page.</p>

        <h3>â­ Support the Project</h3>
        <p>If this plugin helps your development workflow, please consider:</p>
        <ul>
            <li>â­ Starring the project on <a href="https://github.com/MohitPimoli/drool-rule-checker">GitHub</a></li>
            <li>ğŸ“ Writing a review on the JetBrains Marketplace</li>
            <li>ğŸ› Reporting bugs or suggesting features</li>
        </ul>

        <p><em>Made with â¤ï¸ for the Drools community</em></p>
    ]]></description>

    <!-- Minimum and maximum supported versions -->
    <idea-version since-build="250.0" until-build="253.*"/>

    <change-notes><![CDATA[
        <h3>Version 1.0.10 - Enhanced Syntax Validation</h3>
        <ul>
            <li><strong>ğŸ†• Advanced Bracket Matching</strong> - Real-time validation of parentheses, braces, and brackets</li>
            <li><strong>ğŸ†• Java Code Block Validation</strong> - Missing semicolon detection in 'then' clauses</li>
            <li><strong>ğŸ†• Enhanced String Validation</strong> - Unclosed quotes and invalid escape sequence detection</li>
            <li><strong>ğŸ†• Field Access Validation</strong> - Validates $variable.field patterns</li>
            <li><strong>ğŸ†• Function Call Validation</strong> - Ensures proper function call syntax</li>
            <li><strong>ğŸ†• Constraint Expression Validation</strong> - Validates comparison operators and expressions</li>
            <li><strong>ğŸ¨ Enhanced Syntax Highlighting</strong> - Better color coding for punctuation and brackets</li>
            <li><strong>âš¡ Performance Improvements</strong> - Faster real-time validation</li>
        </ul>

        <h3>Version 1.0.9 - Foundation Release</h3>
        <ul>
            <li>âœ… Basic syntax highlighting for .drl files</li>
            <li>âœ… Rule structure validation (rule â†’ when â†’ then â†’ end)</li>
            <li>âœ… Common typo detection</li>
            <li>âœ… Auto-completion for keywords and functions</li>
            <li>âœ… Code folding support</li>
            <li>âœ… Customizable color settings</li>
        </ul>
    ]]></change-notes>

    <!-- Register the language first, then the file type -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Register the language -->
        <lang.parserDefinition language="Drools"
                               implementationClass="com.plugin.drool.DroolsParserDefinition"/>

        <!-- Register the file type -->
        <fileType name="Drools"
                  language="Drools"
                  extensions="drl"
                  implementationClass="com.plugin.drool.DroolsFileType"/>

        <!-- Syntax highlighter -->
        <lang.syntaxHighlighterFactory language="Drools"
                                       implementationClass="com.plugin.drool.DroolsSyntaxHighlighterFactory"/>

        <!-- Color settings page for customization -->
        <colorSettingsPage implementation="com.plugin.drool.DroolsColorSettingsPage"/>

        <!-- INTELLIGENT FEATURES -->

        <!-- Syntax error detection and validation -->
        <annotator language="Drools"
                   implementationClass="com.plugin.drool.DroolsAnnotator"/>

        <!-- Auto-completion support -->
        <completion.contributor language="Drools"
                                implementationClass="com.plugin.drool.DroolsCompletionContributor"/>

        <!-- Code folding support -->
        <lang.foldingBuilder language="Drools"
                             implementationClass="com.plugin.drool.DroolsFoldingBuilder"/>
    </extensions>
</idea-plugin>